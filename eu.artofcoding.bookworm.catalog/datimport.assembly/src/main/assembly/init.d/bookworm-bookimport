#!/bin/bash
### BEGIN INIT INFO
# Provides:          bookworm-import
# Required-Start:    $local_fs $remote_fs $network $syslog
# Required-Stop:     $local_fs $remote_fs $network $syslog
# Default-Start:     2 3 4 5
# Default-Stop:      0 1 6
# Short-Description: Start/Stop bookworm-import
### END INIT INFO
# chkconfig: 35 92 1

## Include some script files in order to set and export environmental variables
## as well as add the appropriate executables to $PATH.
[ -r /etc/profile.d/java.sh ] && . /etc/profile.d/java.sh

BOOKWORM_HOME=/home/wbh/bookworm-import-1.0.0-SNAPSHOT

case "$1" in
    start)
        echo "Starting bookworm-import..."
        cd $BOOKWORM_HOME
        sudo -u wbh java -jar bookworm-import-1.0.0-SNAPSHOT.jar 2>/var/log/bookworm-import.log 1>&2 &
    ;;
    stop)
        echo "Stopping bookworm-import..."
        sudo -u wbh
    ;;
    *)
        echo "Usage: $0 { start | stop }"; exit 1;
    ;;
esac

exit 0
